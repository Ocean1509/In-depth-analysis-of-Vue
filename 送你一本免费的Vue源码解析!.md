
噔噔噔噔！合计**8万多**字的```Vue```源码分析终于告一段落了。过程不易，码字辛苦，希望走过路过的兄弟们能赏个赞，感谢感谢。


**完整书籍：[深入剖析Vue源码]()**

### 感悟
这个系列能连载在一开始我自己是保持怀疑态度的，最开始的目标是在每次读完源码之后能把对过程的思考以及对作者思路的猜测做些笔记，以达到能更深刻理解这个框架，以及更快定位问题的目的。然而随着过程的进行，慢慢发现源码中每个实现，每个细节都有很多值得思考的东西，也渐渐喜欢上了这种以博客形式分析记录的方式。最终也有了这份记录的合集。

源码分析的过程是枯燥的，也是难以入手的，所以也特别感谢网上可以看到的一些源码解析的文章，站在了巨人的肩膀上让自己少走了很多的弯路。并且由于自身能力的不足，视野的受限，难免对源码内部的理解会有差错的地方，也希望各位能够指出，让小弟能够更快的成长。

最后我觉得写完这个系列最大的成长有三部分：首先是文字表达能力的提升，毕竟这么多字写下来，总该在表达能力上有点进步，哈哈。然后就是能更加游刃有余的定位问题，尽管这个系列并不能涵盖所有的知识，但是分析源码的过程有助于在日常开发中快速的定位解决问题，我们都深知，快速定位问题是高校开发的前提。最后就是框架思想的运用，源码中有很多的思想，如果你不去看，你在开发中是想不到的，能够将好的框架的思想运用到日常的项目中，才是最大的提升。

### 章节结构

##### 丰富的选项合并策略
```new Vue```是运行```Vue```框架的第一步，```Vue```作为构造器，实例化阶段的第一步是执行初始化的过程，而选项合并是初始化的开始。我们会像构造器中传递各种各样类型的可配置选项，例如```data,props```,或者像```mounted```这类生命周期钩子。除了这些用户自定义的选项，```Vue```还提供了很多内部的选项，这些选项遵循什么样的合并规则就是是这一节分析的重点。

[]()
[]()

##### 基础的数据代理
使用```Vue```做开发的同学都知道，```Vue```的核心是它的响应式系统，而响应式系统的核心是利用了```Object.defineProperty```进行数据拦截，这一节内容会深入分析```Vue```中两种数据拦截的方式：```Object.defineProperty,Proxy```,尽管响应式系统用的是兼容性更好的```Object.defineProperty```，但是```proxy```也在源码中使用上了，其中的一个例子就是用作数据过滤筛选。
[]()

##### 完整挂载流程和模板编译
```Vue```版本提供了运行时版本和同时包含编译器和运行时的版本，他们都有各自的使用场景。这部分的核心介绍了实例在挂载阶段的完整流程，虽然不会对流程中的每个具体环节展开分析，但是可以知道大致完整的挂载思路。文章最后还介绍了编译器巧妙的设计思路

[]()

##### 完整渲染流程
```Virtual DOM```是```js```操作和```DOM```渲染之间的桥梁，```JS```对```DOM```节点的操作，都会批量反应到```Virtual DOM```这个节点的描述对象上。它的思想很大程度提高了渲染的性能。有了上一节的基础，这一节会分析两个挂载阶段的核心过程，```render,update```,```render```阶段会将模板编译结果的渲染函数，解析成```Virtual DOM```树，```update```阶段会将```Virtual DOM```树映射为真实的```DOM```节点。
[]()

##### 组件基础剖析
组件是```Vue```另一个核心，组件化开发是衡量```Vue```开发能力的基础。文章会从组件的注册开始，介绍全局注册和局部注册在实现上的原理。另外组件挂载流程也是分析的重点，这一切也都依赖于前面介绍过的渲染流程。
[]()

##### 组件高级用法
除了基础的组件用法，```Vue```还提供了高级的用法，例如异步组件和函数组件。异步组件是首屏性能优化的解决方案，深入它的实现原理更有助于我们在开发中首屏性能问题。而函数式组件也有其独特的使用场景。
[]()


##### 深入响应式系统构建- 上，中，下
响应式系统构建是核心，也是难点，这个系列会有三篇的内容去尝试分析内部的实现细节。从响应式数据的构建，在依赖收集和派发更新的分析。文章也模拟了一个简易版的响应式系统方便深层次源码的分析。在响应式系统构建中，还有很多的特殊情况需要考虑，例如数组的响应式构建。对象的异常处理等。

[]()
[]()
[]()

### diff算法的实现
```virtual dom```引入的另一个关键是在前面节点发生改变时，利用```diff```算法比较节点差异，以达到最小变化的改变真实节点。文章会从脱离框架的角度实现一个```diff```算法。
[]()

### 揭秘Vue的事件机制
```Vue```提供了很多实用的功能给用户，其中一个就是使用模板去进行事件监听。```@click```作为事件指令会在模板编译阶段解析，并且会在真实节点的渲染阶段进行相关事件的绑定。对于组件的事件而言，我们可以利用事件进行子父组件间的通信，他本质上是在同个子组件内部维护了一个事件总线。更多的内容可以参考文章的分析。
[]()

##### 你想了解的```Vue```插槽
```Vue```组件的另一个重要概念是插槽，它允许你以一种不同于严格的父子关系的方式组合组件。插槽为你提供了一个将内容放置到新位置或使组件更通用的出口。这一节将围绕官网对插槽内容的介绍思路，按照普通插槽，具名插槽，再到作用域插槽的思路，逐步深入内部的实现原理


[]()

##### v-model的语法糖
我们都知道```v-model```是实现双向数据绑定的核心，然而其核心只是通过事件触发去改变值。但是```v-model```也在组合输入过程做了一些优化。另外组件上使用```v-model```本质上只是一个子父组件通信的语法糖。
[]()


##### 动态组件的深入分析
这一节，我们又回到了组件的分析。动态组件是我们平时开发中高频率使用的东西。核心是```is```属性的使用。文末还粗略介绍了另一个概念，动态组件。

[]()


##### keep-alive的魔法




